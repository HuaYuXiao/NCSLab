<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>NCSLab</title>

    <style>
        .rectangle-module {
            display: flex;
            flex-direction: column;
            width: 300px;
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 20px;
        }
        .input-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .input-group label {
            margin-right: 10px;
        }
        .submit-button {
            margin-left: auto;
        }
    </style>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', (event) => {
            function handleEnter(event) {
                var keyCode = event.which || event.keyCode;

                var input1 = document.getElementById('input1').value;
                // Validate input1 before allowing form submission
                if (keyCode === 13 && (input1 === '0' || input1 === '1')) {
                    document.getElementById('inputForm').submit();
                } else if (keyCode === 13 && input1 !== '') {
                    // Optionally, you can alert the user or handle the invalid input case
                    alert('Input for channel1 must be either 0 or 1.');
                    event.preventDefault(); // Prevent form submission if the input is invalid
                }

                var input2 = document.getElementById('input2').value;
                // Validate input2 before allowing form submission
                if (keyCode === 13 && (input2 === '0' || input2 === '1')) {
                    document.getElementById('inputForm').submit();
                } else if (keyCode === 13 && input2 !== '') {
                    // Optionally, you can alert the user or handle the invalid input case
                    alert('Input for channel2 must be either 0 or 1.');
                    event.preventDefault(); // Prevent form submission if the input is invalid
                }

                var input3 = document.getElementById('input3').value;
                // Validate input3 before allowing form submission
                if (keyCode === 13 && (input3 === '0' || input3 === '1')) {
                    document.getElementById('inputForm').submit();
                } else if (keyCode === 13 && input3 !== '') {
                    // Optionally, you can alert the user or handle the invalid input case
                    alert('Input for channel3 must be either 0 or 1.');
                    event.preventDefault(); // Prevent form submission if the input is invalid
                }
            }

            // Add event listener to the input boxes for the Enter key
            document.getElementById('input1').addEventListener('keypress', handleEnter);
            document.getElementById('input2').addEventListener('keypress', handleEnter);
            document.getElementById('input3').addEventListener('keypress', handleEnter);
        });
    </script>
    <!-- Linking the JavaScript file -->
<!--    <script src="script/main.js" type="text/javascript"></script>-->
    <noscript>Sorry, your browser does not support JavaScript</noscript>
</head>

<body>
    <form id="inputForm" method="POST" action="{{ url_for('main') }}">
        <div class="rectangle-module">
            <div class="input-group">
                <label for="input1">channel1</label>
                <input type="text" id="input1" name="input1">
                <button type="submit" class="submit-button">Submit</button>
            </div>
        </div>
        <div class="rectangle-module">
            <div class="input-group">
                <label for="input2">channel2</label>
                <input type="number" id="input2" name="input2">
                <button type="submit" class="submit-button">Submit</button>
            </div>
        </div>
        <div class="rectangle-module">
            <div class="input-group">
                <label for="input3">channel3</label>
                <input type="number" id="input3" name="input3">
                <button type="submit" class="submit-button">Submit</button>
            </div>
        </div>
    </form>

    <img style="display: block" src="http://10.14.15.105:8091/video_feed">
</body>
</html>
